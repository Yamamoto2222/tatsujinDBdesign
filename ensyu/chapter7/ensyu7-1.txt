演習7-1　パーティションの特徴

【問題文】
7-5節ではバッドノウハウ「水平分割」の代替手段として、「パーティション」機能の存在を取り上げました。このパーティションには、（ちょうどインデックスがそうであったように）いくつかの種類があります。以下に代表的なパーティションを挙げます。これらがどのような利点と欠点を持っているかを整理してください。

・レンジパーティション
・リストパーティション
・ハッシュパーティション

【解答】
参照サイト：http://otndnld.oracle.co.jp/document/products/oracle11g/111/doc_dvd/server.111/E05787-01/partition.htm#i468016

・レンジパーティション
各パーティションに設定したパーティション化キーの値の範囲に基づいて、データがパーティションにマッピングされます。
各パーティションには、パーティションの上限を指定するVALUES LESS THAN句（最上限値は含まない）があります。値がこのリテラル以上のパーティション化キーは、次に大きなパーティションに追加されます。最初のパーティションを除くすべてのパーティションには、前のパーティションのVALUES LESS THAN句によって指定された暗黙的な下限があります。

MAXVALUEリテラルは、最大のパーティションに定義できます。MAXVALUEは、NULL値も含み、そのパーティション化キーで可能なその他の値よりも大きい値を選別する仮想無限値を表します。


・リストパーティション
リスト・パーティション化では、各パーティションの説明にパーティション化キーの離散値のリストを指定することで、行のパーティションへのマッピング方法を明示的に制御できます。リスト・パーティション化の利点は、順序付けおよび関連付けされていない一連のデータを自然にグループ化および編成できることです。パーティション化キーがリージョン列の表の場合、North AmericaパーティションにはCanada、USAおよびMexicoという値が含まれます。

DEFAULTパーティションでは、デフォルトのパーティションを使用するため、リスト・パーティション表に可能な値をすべて指定する必要がありません。そのため、その他のパーティションにマッピングされていないすべての行でエラーが発生しません。


・ハッシュパーティション
ユーザーが指定するパーティション化キーに適用されるハッシング・アルゴリズムに基づいて、データがパーティションにマッピングされます。ハッシング・アルゴリズムでは、パーティションの行が均等に分散され、パーティションはほぼ同じサイズになります。
ハッシュ・パーティション化は、データをデバイス全体に均等に分散する場合に理想的な方法です。また、ハッシュ・パーティション化は、特に、パーティション化するデータが履歴データではない場合や、パーティション化キーが明示的に設定されていない場合に、レンジ・パーティション化のかわりに簡単に使用できます。