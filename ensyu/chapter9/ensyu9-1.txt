演習9-1　木構造を扱うモデルの正規形

【問題文】
本章では、木構造を扱う4つのモデルが登場しました。

●隣接リストモデル
組織図{社員, 上司}

●入れ子集合モデル
組織図{社員, 左端, 右端}

●入れ子区間モデル
組織図{社員, 左端, 右端}

●経路列挙モデル
組織図{社員, 経路}

これらの正規形の次数は、それぞれいくつか答えてください。

【解答】
●隣接リストモデル
5

●入れ子集合モデル
3

●入れ子区間モデル
3

●経路列挙モデル
3

【解説】
どのモデルのテーブルにおいても、部分関数従属も推移的関数従属もないため、第3正規形は満たしています。

隣接リストモデルはそもそも多値従属も存在しないため、第4正規形、第5正規形を満たしている。
入れ子集合モデルと入れ子区間モデルは、座標列（左端、右端）のデータ型が異なるだけで、テーブルの論理的構造は同じとなるため、正規形についても同様となる。
このテーブルのカラムはそれぞれが候補キーとなるため、ボイス―コッド正規形とは無関係となる。
社員、左端、右端を別のテーブルに分解しても意味合い的には、分解前と変わらないものあり、適当な分解方法はない。
よって、入れ子集合モデルおよび、入れ子区間モデルのテーブルは分解してはならない、ということである。

経路列挙モデルについても、同じ理由でボイス―コッド正規形ではない。
主キーである「社員」列は、非キー列である「経路」列に関数従属するからである。
しかし、元のテーブルを分解する必要はなく、また分解するべきではない。



