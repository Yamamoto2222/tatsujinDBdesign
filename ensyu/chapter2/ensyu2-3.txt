演習2-3　サーバーCPUの机上サイジング
【問題文】
ハードウェア、特にサーバーCPUのサイジングについてケーススタディをしてみましょう。
みなさんは、今後行われるシステム更改（つまりシステムのリプレース）プロジェクトにおいて、サイジングを担当することになりました。話を単純にするために、単純なハードウェアリプレースのみで、アプリケーションには改修が入らず、現行通りと仮定しましょう。変更されるのは、サーバーやストレージなどハードウェアのみです。また、現行システムのアクセスログやリソースログは取得することができるため、レスポンスとスループットは算出できます。
しかしプロジェクトマネージャからは、次のように言われています。
「このシステム、今はお客さんからピーク時間帯になると遅いと苦情が来るんだ。今度はこんなことないよう、適切なハードウェアを選んでくれよ」
プロジェクトの予算は少ないため、プロトタイプ検証を行う余裕はありません。さて、みなさんはどんな手順でサーバーのCPUについて机上サイジングを実施すれば良いでしょうか？なるべく具体的に、手順を考えてください。


【解答】
以下の手順で作業を行う。
1　現行のシステムを使用し、「ピークではない時間」と「ピーク時」のログ関連（アクセスログ、DBログ、リソースログ）を取得する。
2　1からどのぐらいのアクセス数があるか、スループットがどうなっているかを調査する。
　
3　調査した結果、現状でどのサイズを使用していて、過不足の状況について確認する。
4　3までで調査を行った結果、DBのサイズが不足しているようであれば、さらにサイズが大きいものを使用する。
5　ピーク時のDBの負荷を減らすため、かつ予算のことを考慮してストレージの冗長構成を「RAID5」とする
6　サイズを圧迫しすぎないように、バックアップは「差分バックアップ」とする
